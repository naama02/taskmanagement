<!--site header begins-->
<header class="admin-header">
    <a href="#" class="sidebar-toggle" data-toggleclass="sidebar-open" data-target="body"></a>
    <nav class=" ml-auto">
        <ul class="nav align-items-center">

            <li class="nav-item">
                <div class="dropdown" id="notificationDropdown">
                    <a href="javascript:void(0)" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="mdi mdi-24px mdi-bell-outline"></i>
                        <span class="notification-counter"></span>
                    </a>
                
                    <div class="dropdown-menu notification-container dropdown-menu-right">
                        <div class="d-flex p-all-15 bg-white justify-content-between border-bottom">
                            <span class="h5 m-0">Notifications</span>
                        </div>
                        <div class="notification-events bg-gray-300" id="notificationList">
                            
                        </div>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <div class="avatar avatar-sm avatar-online">
                        <span class="avatar-title rounded-circle bg-dark"></span>

                    </div>
                </a>
                <div class="dropdown-menu  dropdown-menu-right">
                    <a class="dropdown-item" href="/profile"> Profile
                    </a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="/logout"> Logout</a>
                </div>
            </li>

        </ul>

    </nav>
</header>
<!--site header ends -->
<script>
    $.ajax({
        url: '/notifications',
        type: 'GET',
        data: {},
        success: function (result) {
            console.log(result)
            if (result.status == "success") {
                for (var notification of result.notifications) {
                    $("#notificationList").append(
                        '<a href="javascript:void(0)" class="d-block m-b-10">' +
                            '<div class="card">' +
                                '<div class="card-body">' +
                                    '<i class="mdi mdi-circle text-success"></i>' + notification.content + ' From ' + notification.sender.firstName +
                                '</div>' +
                            '</div>' +
                        '</a>'
                    )
                    
                }
            } else {
                
            }
        },
    });
</script>